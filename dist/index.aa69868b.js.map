{"mappings":"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","sources":["src/js/main.js"],"sourcesContent":["\"use strict\";\r\n\r\ndocument.getElementById('fetch-books').addEventListener('click', async () => {\r\n    document.querySelector('.loader').style.display = 'flex';\r\n    document.getElementById('text').style.display = 'none';\r\n    document.getElementById('slideshowcontainer').innerHTML = '';\r\n    slideIndex = 1;\r\n    const selectedDate = document.getElementById('date-picker').value;\r\n    const selectedGenre = document.getElementById('genre-picker').value;\r\n    const url = `https://api.nytimes.com/svc/books/v3/lists/${selectedDate}/${selectedGenre}.json?api-key=3gySNnE3Ly9D2zD3DEC9GroOYifGli9A`;\r\n\r\n    try {\r\n        const response = await fetch(url);\r\n        const data = await response.json();\r\n        displayBooks(data.results.books);\r\n    } catch (error) {\r\n        document.getElementById('error-message').innerText = 'Det gick inte att hämta böckerna. Försök igen senare.';\r\n        document.querySelector('.loader').style.display = 'none';\r\n    }\r\n    finally {\r\n        // Dölj laddningsanimationen när processen är klar\r\n        document.querySelector('.loader').style.display = 'none';\r\n    }\r\n});\r\n\r\nasync function displayBooks(books) {\r\n    const bookList = document.getElementById('slideshowcontainer');\r\n    bookList.innerHTML = ''; // Rensa tidigare innehåll\r\n    // Sortera böckerna efter deras rank i stigande ordning\r\n    const sortedBooks = books.sort((a, b) => a.rank - b.rank);\r\n    // Skapa en array av promises för att hämta ytterligare information om varje bok\r\n    const promises = sortedBooks.map(book =>\r\n        fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${book.primary_isbn13}&key=AIzaSyCPduk_iSsjI6LaBiyVg0x6PDzT0Fa2uDo`)\r\n        .then(response => response.json())\r\n    );\r\n\r\n    // Vänta på att alla promises ska lösas\r\n    const results = await Promise.all(promises);\r\n\r\n    // Processa varje resultat och skapa en slide för varje bok\r\n    results.forEach((googleBooksData, index) => {\r\n        const book = sortedBooks[index];\r\n        const bookInfo = googleBooksData.items ? googleBooksData.items[0].volumeInfo : {};\r\n        const bookItem = document.createElement('article');\r\n        bookItem.innerHTML = `\r\n        <div class=\"mySlides fade\">\r\n        <picture class=\"bookimg\">\r\n            <img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"book-image\">\r\n          </picture>\r\n            <h2>${book.rank}. ${book.title}</h2>\r\n            <ul class=\"dotlist\">\r\n                <li><strong>Author:</strong> ${book.author}</li>\r\n                <li><strong>ISBN:</strong> ${book.primary_isbn13}</li>\r\n            </ul>\r\n            <p>${book.description}</p>\r\n            <a href=\"${bookInfo.previewLink || '#'}\" target=\"_blank\" class=\"preview-link\">More about: ${book.title}</a>\r\n            <a class=\"prev\">&#10094;</a>\r\n            <a class=\"next\">&#10095;</a>\r\n        </div>\r\n        `;\r\n        bookList.appendChild(bookItem);\r\n    });\r\n    showSlides(1);\r\n}\r\n\r\ndocument.getElementById('slideshowcontainer').addEventListener('click', function(event) {\r\n    // Kontrollera om det bakåt-pilen har klassen 'prev'\r\n    if (event.target.classList.contains('prev')) {\r\n        plusSlides(-1); // Gå ett steg bakåt\r\n    }\r\n\r\n    // Kontrollera om det klickade elementet har klassen 'next'\r\n    if (event.target.classList.contains('next')) {\r\n        plusSlides(1); // Gå ett steg framåt\r\n    }\r\n});\r\n\r\nlet slideIndex = 1;\r\nshowSlides(slideIndex);\r\n\r\nfunction plusSlides(n) {\r\n  showSlides(slideIndex += n);\r\n}\r\n\r\nfunction showSlides(n) {\r\n    let slides = document.getElementsByClassName(\"mySlides\");\r\n    if (slides.length === 0) return; // Avsluta om det inte finns några slides\r\n\r\n    slideIndex = n > slides.length ? 1 : n < 1 ? slides.length : n; // Cirkulär navigering\r\n\r\n    for (let slide of slides) {\r\n        slide.style.display = \"none\"; // Dölj alla slides\r\n    }\r\n\r\n    slides[slideIndex - 1].style.display = \"block\"; // Visa den aktuella sliden\r\n}\r\n"],"names":[],"version":3,"file":"index.aa69868b.js.map","sourceRoot":"/__parcel_source_root/"}